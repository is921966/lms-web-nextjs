# ‚úÖ Railway Deployment Checklist

## 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è –≤ Dashboard

### –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞–π–¥–∏—Ç–µ:
- ‚úÖ **"Deployment successful"** –∏–ª–∏ **"Active"** - —Ö–æ—Ä–æ—à–æ
- ‚ùå **"Failed"**, **"Crashed"**, **"Building"** - –ø—Ä–æ–±–ª–µ–º–∞

### –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å "Failed" –∏–ª–∏ "Crashed":
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –¥–µ–ø–ª–æ–π
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deploy Logs**
3. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ (–æ–±—ã—á–Ω–æ –∫—Ä–∞—Å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º)
4. –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
   - Missing environment variables
   - Port binding errors
   - Build failures

## 2. –í–∫–ª—é—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø

### –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings —Å–µ—Ä–≤–∏—Å–∞:
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å `lms-web-nextjs`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Settings**
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Networking**
4. –ù–∞–∂–º–∏—Ç–µ **Generate Domain** –∏–ª–∏ **Add Domain**
5. Railway —Å–æ–∑–¥–∞—Å—Ç URL –≤–∏–¥–∞:
   - `your-app-name.up.railway.app`
   - –∏–ª–∏ —Å–ª—É—á–∞–π–Ω–æ–µ –∏–º—è –≤—Ä–æ–¥–µ `careful-tree-production.up.railway.app`

## 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í —Ä–∞–∑–¥–µ–ª–µ Variables —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å:
- ‚úÖ `NEXT_PUBLIC_SUPABASE_URL`
- ‚úÖ `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- ‚úÖ `SUPABASE_SERVICE_ROLE_KEY`
- ‚úÖ `PORT` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Railway)

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
```
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-app.up.railway.app
```

## 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í Observability ‚Üí Logs –Ω–∞–π–¥–∏—Ç–µ:
```
‚úÖ Listening on port 3000 (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç)
‚úÖ Ready on http://localhost:3000
‚úÖ Environment: production
```

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:
```
‚ùå Error: Missing NEXT_PUBLIC_SUPABASE_URL
‚ùå Error: Cannot connect to database
‚ùå Error: Port is already in use
```

## 5. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

**A. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Build Logs:**
```
‚úÖ Creating an optimized production build...
‚úÖ Compiled successfully
‚úÖ Collecting page data
‚úÖ Generating static pages
```

**B. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Deploy Logs:**
```
‚úÖ Starting server...
‚úÖ Listening on port $PORT
```

**C. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è:**

| –û—à–∏–±–∫–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|
| "Missing environment variable" | –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ Variables |
| "Cannot find module" | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ package.json –∏ node_modules |
| "Port is already in use" | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `process.env.PORT` |
| "Supabase connection failed" | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π |

## 6. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

### –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏–∑ Settings ‚Üí Domains
–ù–∞–ø—Ä–∏–º–µ—Ä: `https://your-app-name.up.railway.app`

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞—à —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
./scripts/check-production.sh https://your-app-name.up.railway.app

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
curl https://your-app-name.up.railway.app/api/health
```

## 7. Troubleshooting –∫–æ–º–∞–Ω–¥—ã

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:
1. –í –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ —Ç—Ä–∏ —Ç–æ—á–∫–∏ `...`
2. –í—ã–±–µ—Ä–∏—Ç–µ **Restart**

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è:
1. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π
2. –ù–∞–∂–º–∏—Ç–µ **Rollback to this deployment**

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å:
1. –°–¥–µ–ª–∞–π—Ç–µ –ø—É—Å—Ç–æ–π –∫–æ–º–º–∏—Ç:
   ```bash
   git commit --allow-empty -m "Trigger rebuild"
   git push
   ```

## üì± –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞–±–æ—á–µ–≥–æ URL:
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] /api/health –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK
- [ ] /courses –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫—É—Ä—Å–æ–≤
- [ ] /feed –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–µ–Ω—Ç—É –Ω–æ–≤–æ—Å—Ç–µ–π
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üéâ –£—Å–ø–µ—Ö!

–ï—Å–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã - –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production! 